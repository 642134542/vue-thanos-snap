(function(e){function t(t){for(var n,i,o=t[0],c=t[1],l=t[2],d=0,p=[];d<o.length;d++)i=o[d],r[i]&&p.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(p.length)p.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={app:0},s=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/vue-thanos-snap/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var n=a("64a9"),r=a.n(n);r.a},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main",attrs:{id:"app"}},[a("Main")],1)},s=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("div",{staticClass:"gauntlet"},[a("div",{staticClass:"gauntlet-wrapper"},[a("span",[e._v("剩余英雄： "+e._s(e.residue)+" 个")]),e.showSnap?a("div",{staticClass:"gauntlet-item",class:e.snaping?"snaping":"",attrs:{id:"gauntlet-snap"},on:{click:e.snapHandle}}):e._e(),e.showReverse?a("div",{staticClass:"gauntlet-item",class:e.reversing?"reversing":"",attrs:{id:"gauntlet-reverse"},on:{click:e.reverseHandle}}):e._e()])]),a("Content",{attrs:{heroes:e.heroes}}),a("audio",{ref:"snap",attrs:{src:"/audios/thanos_snap_sound.mp3",preload:""}}),a("audio",{ref:"reverse",attrs:{src:"/audios/thanos_reverse_sound.mp3",preload:""}}),e._l(6,function(e){return a("audio",{key:e,attrs:{src:"/audios/thanos_dust_"+e+".mp3",preload:"",id:"dust_"+e}})})],2)},o=[],c=(a("3b2b"),a("a481"),a("75fc")),l=(a("ac6a"),a("55dd"),a("96cf"),a("3b8d")),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content"},e._l(e.heroes,function(t,n){return a("div",{key:n,staticClass:"item",attrs:{id:t.id}},[a("div",{staticClass:"item-body"},[a("div",{staticClass:"avatar"},[a("img",{attrs:{src:t.src,alt:""}})]),a("div",{staticClass:"info"},[e._v(e._s(t.name))])])])}),0)},d=[],p={name:"Content",props:["heroes"]},f=p,h=a("2877"),m=Object(h["a"])(f,u,d,!1,null,null,null),v=m.exports,g=a("5f03"),y=a.n(g),b={name:"Gauntlet",data:function(){return{showSnap:!0,showReverse:!1,snaping:!1,reversing:!1,heroesHided:[],residue:0,heroes:[{id:1,name:"Iron Man",src:"/images/avatar/1.jpg"},{id:2,name:"Black Widow",src:"/images/avatar/2.jpg"},{id:3,name:"Captain America",src:"/images/avatar/3.jpg"},{id:4,name:"Spider Man",src:"/images/avatar/4.jpg"},{id:5,name:"Thor",src:"/images/avatar/5.jpg"},{id:6,name:"Hulk",src:"/images/avatar/6.jpg"},{id:7,name:"Black Panther",src:"/images/avatar/7.jpg"},{id:8,name:"Doctor Stranger",src:"/images/avatar/8.jpg"}]}},methods:{sleep:function(e){return new Promise(function(t){setTimeout(function(){t()},e||1e3)})},snapHandle:function(){var e=this;this.snaping=!0,this.playAudio("snap"),setTimeout(Object(l["a"])(regeneratorRuntime.mark(function t(){var a,n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e.showReverse=!0,e.showSnap=!1,e.heroesHided=e.heroes.slice(0).sort(function(){return.5-Math.random()}).slice(0,Math.ceil(e.heroes.length/2)),a=0;case 4:if(!(a<e.heroesHided.length)){t.next=13;break}return n=e.heroesHided[a],r=document.getElementById(n.id),t.next=8,e.sleep();case 8:return t.next=10,e.snapToDust(r);case 10:a++,t.next=4;break;case 13:e.snaping=!1;case 14:case"end":return t.stop()}},t)})),1500)},reverseHandle:function(){var e=this;this.reversing=!0,this.playAudio("reverse"),setTimeout(function(){e.showSnap=!0,e.showReverse=!1,e.heroesHided.forEach(function(t){var a=document.getElementById(t.id);a.style.visibility="visible",e.addClass(a,"time")}),e.residue=e.heroes.length,e.snaping=!1},1500)},playAudio:function(e){if(["snap","reverse"].indexOf(e)>-1){var t=this.$refs[e];t&&t.play()}else{var a=e||Math.floor(6*Math.random()+1),n=document.getElementById("dust_".concat(a));n&&n.play()}},generateFrames:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,a=e.width,n=e.height,r=e.getContext("2d"),s=r.getImageData(0,0,a,n),i=Object(c["a"])(Array(t)).map(function(e,t){return r.createImageData(a,n)}),o=0;o<a;++o)for(var l=0;l<n;++l)for(var u=0;u<2;++u)for(var d=Math.floor(t*(Math.random()+2*o/a)/3),p=4*(l*a+o),f=0;f<4;++f)i[d].data[p+f]=s.data[p+f];return i.map(function(t){var a=e.cloneNode(!0);return a.getContext("2d").putImageData(t,0,0),a})},replaceElementVisually:function(e,t){this.playAudio();var a=e.offsetParent;t.style.top="".concat(e.offsetTop,"px"),t.style.left="".concat(e.offsetLeft,"px"),t.style.width="".concat(e.offsetWidth,"px"),t.style.height="".concat(e.offsetHeight,"px"),a.appendChild(t),e.style.visibility="hidden"},snapToDust:function(e){var t=this;return new Promise(function(a,n){y()(e,{allowTaint:!0}).then(function(n){var r=document.createElement("div");r.classList.add("dust-container");var s=t.generateFrames(n);s.forEach(function(e,t){e.style.transitionDelay="".concat(1.35*t/s.length,"s"),r.appendChild(e)}),t.replaceElementVisually(e,r);Math.floor(6*Math.random()+1);r.offsetLeft,s.forEach(function(e){var t=2*Math.PI*(Math.random()-.5);e.style.transform="rotate(".concat(15*(Math.random()-.5),"deg) translate(").concat(60*Math.cos(t),"px, ").concat(30*Math.sin(t),"px)\nrotate(").concat(15*(Math.random()-.5),"deg)"),e.style.opacity=0}),a()})})},addClass:function(e,t){this.hasClass(e,t)||(e.className=""==e.className?t:e.className+" "+t)},hasClass:function(e,t){return t=t||"",0!=t.replace(/\s/g,"").length&&new RegExp(" "+t+" ").test(" "+e.className+" ")}},components:{Content:v},mounted:function(){this.residue=this.heroes.length}},w=b,_=Object(h["a"])(w,i,o,!1,null,null,null),x=_.exports,C={name:"app",components:{Main:x}},M=C,j=(a("034f"),Object(h["a"])(M,r,s,!1,null,null,null)),O=j.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(O)}}).$mount("#app")},"64a9":function(e,t,a){}});
//# sourceMappingURL=app.e6148f39.js.map